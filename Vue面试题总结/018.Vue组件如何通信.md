# Vue组件如何通信

## 通信方式

#### 属性 + 事件（props + emit/on）

父组件 => 子组件： 通过属性传递
子组件 => 父组件： 通过事件传递，父组件监听相应事件


#### 时间总线(eventBus)

需要传递通信的两个组件通过引用同一个Vue实例来通信
```javascript
    var Event = new Vue();
    Event.$emit(事件名,数据);
    Event.$on(事件名,data => {});
```

#### Vuex

Vuex实现了一个单向数据流，在全局拥有一个State存放数据，当组件要更改State中的数据时，必须通过Mutation进行，Mutation同时提供了订阅者模式供外部插件调用获取State数据的更新。而当所有异步操作(常见于调用后端接口异步获取更新数据)或批量的同步操作需要走Action，但Action也是无法直接修改State的，还是需要通过Mutation来修改State的数据。最后，根据State的变化，渲染到视图上。


#### provide/inject

Vue2.2.0新增API,这对选项需要一起使用，以允许一个祖先组件向其所有子孙后代注入一个依赖，不论组件层次有多深，并在起上下游关系成立的时间里始终生效。一言而蔽之：祖先组件中通过provider来提供变量，然后在子孙组件中通过inject来注入变量。

provide / inject API 主要解决了跨级组件间的通信问题，不过它的使用场景，主要是子组件获取上级组件的状态，跨级组件间建立了一种主动提供与依赖注入的关系。

> 其他方式比较非主流，就不说了

## 参考文章

> [vue组件间通信六种方式（完整版）](https://segmentfault.com/a/1190000019208626)
