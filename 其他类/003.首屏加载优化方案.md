# 首屏加载优化方案

## 网络方面的优化


### 数据缓存

 1. 设置强缓存：除Html文件外，所有资源都设置强缓存
 
 2. 使用CDN： CDN可以加速静态加载的速度
 
 3. PWA方案：如果应用在上次加载过，可以高效的离线使用
 
 
### 合并请求

 1. 雪碧图：将小图片合并成整张图片
 
 2. BFF层接入：将繁多的接口用node实现中间层来进行数据接口聚合
 
 
### 缩小加载体积

 1. 采用iconfont代替图片：字体库一旦加载即可缓存，而且可以任意修改颜色和大小，这样避免下载过多的icon图标问题
 
 2. 静态文件压缩：css、js文件进行ugly化
 
 3. 打开gzip压缩：可以降低文件在网络传输过程中70%的体积
 
 4. vue spa使用路由懒加载：即只加载当前路由所使用的JS文件，其他路由使用prefetch方式加载
 
 
### 减少请求

 1. 图片懒加载：只加载屏幕范围内的图片
 
 2. 图片按需加载不同尺寸大小：列表页加载小的中等清晰度的图片、详情页加载高清的图片
 
 3. 使用http2：HTTP2自带多路复用功能，并且可以突破浏览器同源并发请求数量的限制
 
 4. ssr：在服务端将前端页面的请求聚合
 
### 其他

 1. 前端的负载均衡：静态资源分发到多个域名中，在前端请求时根据不同算法来加载多个域名的静态资源
 
 2. DNS预解析

## 浏览器解析方向

### js代码使用异步加载

这样避免JS的加载阻塞浏览器的渲染，或导致浏览器重新渲染

### 避免DOM结构过于复杂、层级太深

这样可以节省浏览器解析时间
