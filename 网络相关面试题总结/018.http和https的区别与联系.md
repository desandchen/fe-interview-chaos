# http和https的区别与联系(未完待续)

## 区别

https在原有的http和TCP之间增加了一个SSL安全层。

### SSL安全层做了什么

引入第三方——证书颁发机构，服务端会事先向证书颁发机构申请安全证书。

此后客户端向服务端请求时，服务端会先返回自己的证书，然后客户端通过域名和证书颁发机构信息通过本地（浏览器或操作系统）来也成一个证书签名，
与服务端证书的签名进行比对，如果相同就认为证书有效。

然后客户端机构公钥，解密出服务端的公钥Key1。

客户端再生成自己的对称加密密钥Key2，并且用服务端公钥Key1加密Key2，发送给服务端。

服务端用自己的私钥解开加密，得到对称加密密钥Key2。于是两端开始用Key2进行对称加密的通信。

### 在https协议中，为什么能防止了"中间人攻击"？

证书是由第三方证书颁发机构利用服务端地址生成的，中间人自行生成的证书无法通过客户端的认证。

## 参考文章
 
> * [HTTP和HTTPS详解](https://juejin.im/post/5af557a3f265da0b9265a498#heading-30)
>
> * [谈谈 HTTPS](https://juejin.im/post/59e4c02151882578d02f4aca)
>
> * [漫画：什么是 HTTPS 协议？](https://zhuanlan.zhihu.com/p/57142784)
